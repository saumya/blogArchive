<!DOCTYPE html>
<!--[if IE 6]>
<html id="ie6" lang="en-US">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
<base href="http://saumya.github.io/blogArchive" />

<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<title>September | 2011 | saumya</title>

<link rel="stylesheet" type="text/css" media="all" href="http://saumya.github.io/blogArchive/wp-content/themes/twentyeleven/style.css" />

<!--[if lt IE 9]>
<script src="http://saumya.github.io/blogArchive/wp-content/themes/twentyeleven/js/html5.js" type="text/javascript"></script>
<![endif]-->



 

<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #e2e2e2; }
</style>
</head>

<body class="archive date custom-background two-column right-sidebar">
<div id="page" class="hfeed">
	<header id="branding" role="banner">
			<hgroup>
				<h1 id="site-title"><span><a href="http://saumya.github.io/blogArchive/" title="saumya" rel="home">saumya</a></span></h1>
				<h2 id="site-description">Where there is a will, there is a way.</h2>
			</hgroup>

						<a href="http://saumya.github.io/blogArchive/">
									<img src="http://saumya.github.io/blogArchive/wp-content/uploads/2011/08/sanchi.jpg" width="1000" height="288" alt="" />
							</a>
			

			<nav id="access" role="navigation">
				<h3 class="assistive-text">Main menu</h3>
								<div class="skip-link"><a class="assistive-text" href="#content" title="Skip to primary content">Skip to primary content</a></div>
				<div class="skip-link"><a class="assistive-text" href="#secondary" title="Skip to secondary content">Skip to secondary content</a></div>
								<div class="menu"><ul><li ><a href="http://saumya.github.io/blogArchive/" title="Home">Home</a></li></ul></div>
			</nav><!-- #access -->
	</header><!-- #branding -->


	<div id="main">

		<section id="primary">
			<div id="content" role="main">

			
				<header class="page-header">
					<h1 class="page-title">
													Monthly Archives: <span>September 2011</span>											</h1>
				</header>

						<nav id="nav-above">
			<h3 class="assistive-text">Post navigation</h3>
			<div class="nav-previous"><a href="http://saumya.github.io/blogArchive/archives/date/2011/09/page/2" ><span class="meta-nav">&larr;</span> Older posts</a></div>
			<div class="nav-next"></div>
		</nav><!-- #nav-above -->
	
								
					
	<article id="post-842" class="post-842 post type-post status-publish format-standard hentry category-css3 category-html5 category-ipad-development category-iphone-development category-javascript category-mobile category-opensource category-tutorial tag-html5 tag-interaction tag-javascript tag-spritesheet">
		<header class="entry-header">
						<h1 class="entry-title"><a href="http://saumya.github.io/blogArchive/archives/842" title="Permalink to HTML5 : Canvas with mouse interaction." rel="bookmark">HTML5 : Canvas with mouse interaction.</a></h1>
			
						<div class="entry-meta">
				<span class="sep">Posted on </span><a href="http://saumya.github.io/blogArchive/archives/842" title="1:00 am" rel="bookmark"><time class="entry-date" datetime="2011-09-30T01:00:34+00:00">September 30, 2011</time></a><span class="by-author"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://saumya.github.io/blogArchive/archives/author/saumya" title="View all posts by saumya" rel="author">saumya</a></span></span>			</div><!-- .entry-meta -->
			
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>Here we are going to study about the creation of Canvas dynamically and the basic mouse interactivity with the Canvas elements.</p>
<p><a href="http://www.box.net/shared/xg21ic16iml1dlv1u5hc" title="Dynamic Canvas and Mouse interaction" target="_blank">The source files for this example is here for you to download and play.</a></p>
<p>We are going to use a separate sprite sheet and try to make the scene a little more interesting than the last one. I would say to download the source files and see the example for yourself to see what is it doing. Basically there is a scene on the background with 6 tables and a girl doing some experiment on third table. Towards the left top corner of the scene, there is another girl trying to do some magic with its magic wand. If you look at the code, the scene with the girl doing experiment is a straight forward drawing from the sprite sheet as we did that in last tutorial. The girl with the magic wand is drawn in a dynamically created Canvas. The code looks as below.</p>
<pre lang='javascript'>
//creating canvas dynamically
canvasGirl=document.createElement('canvas'); 
canvasGirl.width=100; 
canvasGirl.height=100;
//get the context
contextGirl=canvasGirl.getContext('2d');
//customise canvas
canvasGirl.style.background='transparent';
canvasGirl.style.zIndex=5;
//add the canvas to the document
document.body.appendChild(canvasGirl);
</pre>
<p>The first thing is to create a new canvas with &#8220;createElement(&#8216;canvas&#8217;)&#8221;. That will make a new canvas. Now we have to get the context to draw something on it. This is done with &#8220;getContext(&#8217;2d&#8217;)&#8221; as usual, nothing new here. And lastly, we have to add our newly created Canvas to the document and this is done with &#8220;document.body.appendChild(canvasGirl);&#8221; code. Thats beautiful. Everything else in the code is just configuring the canvas.<br />
Once the canvas and context are available to us, we can do anything we are able to do to a Canvas. So the girl with the magic wand is drawn to the context of this Canvas element. The code looks as below.</p>
<pre lang='javascript'>
resetContext(canvasGirl,contextGirl);
contextGirl.drawImage(photo, 108*counter+10, 900, 96, 64, 0, 0, 96, 64);
</pre>
<p>First we are resetting the Canvas, so as to draw new content on each timer. Since the girl with magic wand is actually an animation, we call the code above repeatedly on a timer event. And first we clear the context with our own function and then redraw an image from sprite sheet at the same place on the canvas, so as to make an animation. If you are following along with the previous tutorials then the reseting of context code should not be new to you, else the code looks as as below.</p>
<pre lang='javascript'>
resetContext=function(canvasRef,contextRef){
	contextRef.clearRect(0,0,canvasRef.width,canvasRef.height);
};
</pre>
<p>All we have, are two layers of drawing and animation drawn from the same sprite sheet.<br />
Lets do some mouse interactivity with these elements. The code looks as below.</p>
<pre lang='javascript'>
//------------ adding mouse interaction --------------
$('#board_one').mouseup(function() {
  	alert('Canvas with Tables');
});
$(canvasGirl).mouseup(function() {
  	alert('Canvas with Girl, doing magic.');
});
</pre>
<p>The trick here is JQuery&#8217;s neat job. Just remember anything wrapped with $() will give a JQuery element of the same HTML element. So our dynamically created Canvas is made an JQuery element by </p>
<pre lang='javascript'>
$(canvasGirl)
</pre>
<p>Notice that there is no &#8216;#&#8217; before the name as it is before &#8216;board_one&#8217;, thats for the &#8216;board_one&#8217; we are referring the HTML element with id &#8216;board_one&#8217;, while the other one we are creating dynamically in javascript and converting it to a JQuery equivalent.<br />
Thats nice and if you have not done yet, please go ahead and click on the board to get an alert showing different message and if you click on the girl with magic wand, that will alert a different message.<br />
This is quite simple and straight forward interactivity, but I think you got the point.<br />
Happy coding <img src='http://saumya.github.io/blogArchive/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
<blockquote><p>And yes, I made it to one month of continuous posting, highly influenced by <a href="http://www.bit-101.com/blog/" target="_blank">Keith Peters</a>. Though it was not all javascript and I missed some dates, but all in all, the number of posts in a month is achieved. I am quite happy about my effort and a big thanks to all of you, who read it.</p></blockquote>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
												<span class="cat-links">
				<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="http://saumya.github.io/blogArchive/archives/category/css3" title="View all posts in css3" rel="category tag">css3</a>, <a href="http://saumya.github.io/blogArchive/archives/category/html5" title="View all posts in html5" rel="category tag">html5</a>, <a href="http://saumya.github.io/blogArchive/archives/category/ipad-development" title="View all posts in ipad development" rel="category tag">ipad development</a>, <a href="http://saumya.github.io/blogArchive/archives/category/iphone-development" title="View all posts in iphone development" rel="category tag">iphone development</a>, <a href="http://saumya.github.io/blogArchive/archives/category/javascript" title="View all posts in javascript" rel="category tag">javascript</a>, <a href="http://saumya.github.io/blogArchive/archives/category/mobile" title="View all posts in mobile" rel="category tag">mobile</a>, <a href="http://saumya.github.io/blogArchive/archives/category/opensource" title="View all posts in opensource" rel="category tag">opensource</a>, <a href="http://saumya.github.io/blogArchive/archives/category/tutorial" title="View all posts in tutorial" rel="category tag">tutorial</a>			</span>
															<span class="sep"> | </span>
							<span class="tag-links">
				<span class="entry-utility-prep entry-utility-prep-tag-links">Tagged</span> <a href="http://saumya.github.io/blogArchive/archives/tag/html5" rel="tag">html5</a>, <a href="http://saumya.github.io/blogArchive/archives/tag/interaction" rel="tag">interaction</a>, <a href="http://saumya.github.io/blogArchive/archives/tag/javascript" rel="tag">javascript</a>, <a href="http://saumya.github.io/blogArchive/archives/tag/spritesheet" rel="tag">spritesheet</a>			</span>
						
			
					</footer><!-- .entry-meta -->
	</article><!-- #post-842 -->

				
					
	<article id="post-834" class="post-834 post type-post status-publish format-standard hentry category-html5 category-ipad-development category-iphone-development category-mobile tag-development tag-game-development">
		<header class="entry-header">
						<h1 class="entry-title"><a href="http://saumya.github.io/blogArchive/archives/834" title="Permalink to A look inside game development and publishing world." rel="bookmark">A look inside game development and publishing world.</a></h1>
			
						<div class="entry-meta">
				<span class="sep">Posted on </span><a href="http://saumya.github.io/blogArchive/archives/834" title="2:01 pm" rel="bookmark"><time class="entry-date" datetime="2011-09-29T14:01:09+00:00">September 29, 2011</time></a><span class="by-author"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://saumya.github.io/blogArchive/archives/author/saumya" title="View all posts by saumya" rel="author">saumya</a></span></span>			</div><!-- .entry-meta -->
			
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p><iframe width="480" height="360" src="https://www.youtube.com/embed/xEzPaUBptxg" frameborder="0" allowfullscreen></iframe></p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
												<span class="cat-links">
				<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="http://saumya.github.io/blogArchive/archives/category/html5" title="View all posts in html5" rel="category tag">html5</a>, <a href="http://saumya.github.io/blogArchive/archives/category/ipad-development" title="View all posts in ipad development" rel="category tag">ipad development</a>, <a href="http://saumya.github.io/blogArchive/archives/category/iphone-development" title="View all posts in iphone development" rel="category tag">iphone development</a>, <a href="http://saumya.github.io/blogArchive/archives/category/mobile" title="View all posts in mobile" rel="category tag">mobile</a>			</span>
															<span class="sep"> | </span>
							<span class="tag-links">
				<span class="entry-utility-prep entry-utility-prep-tag-links">Tagged</span> <a href="http://saumya.github.io/blogArchive/archives/tag/development" rel="tag">development</a>, <a href="http://saumya.github.io/blogArchive/archives/tag/game-development" rel="tag">game development</a>			</span>
						
			
					</footer><!-- .entry-meta -->
	</article><!-- #post-834 -->

				
					
	<article id="post-821" class="post-821 post type-post status-publish format-standard hentry category-css3 category-html5 category-javascript category-tutorial tag-html5 tag-javascript tag-tutorial tag-tutorials">
		<header class="entry-header">
						<h1 class="entry-title"><a href="http://saumya.github.io/blogArchive/archives/821" title="Permalink to HTML5 : animating on a Canvas with sprite sheet" rel="bookmark">HTML5 : animating on a Canvas with sprite sheet</a></h1>
			
						<div class="entry-meta">
				<span class="sep">Posted on </span><a href="http://saumya.github.io/blogArchive/archives/821" title="1:00 am" rel="bookmark"><time class="entry-date" datetime="2011-09-29T01:00:16+00:00">September 29, 2011</time></a><span class="by-author"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://saumya.github.io/blogArchive/archives/author/saumya" title="View all posts by saumya" rel="author">saumya</a></span></span>			</div><!-- .entry-meta -->
			
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>We have already seen how to animate on Canvas in one of our last tutorials. That was quite straight forward as we were using Canvas drawing straight out of the box. Here we will use our newly learnt tools(loading and drawing bitmap image in canvas) to make an animation.<br />
<a href="http://www.box.net/shared/e8xxhdcsx83a2a15apgm" target="_blank">The source files are here for you to download and play.</a><br />
The concept is the same though as in re-drawing in the canvas at a regular interval, but instead of drawing with drawing API, we will be drawing image.<br />
First of all lets understand what a sprite sheet is? The sprite sheet is an image! Just an image? Yes, its just an image file. In that image file, we should have almost all the images needed for our purpose. That means, one image file consisting of all the images required in a project. Why its necessary? Good question. The reason being we have just one call to the server and all our image data is loaded. The next reason is to update the image data. Suppose we want to update the graphics all at once, we just have to update one image file.<br />
If you are going through the image file in our source, the image file has 12 different images of a character. All we are going to do is, cycle over each character over a time. That we can do with a &#8220;setInterval()&#8221; javascript function.<br />
Lets see the javascript code first and then we will go learn it.</p>
<pre lang="javascript">
$.ready()
{
	//------------- 1. defining the variables and functions----------------
	var resetCanvas,resetContext,
		canvas_1,context_1,
		image_data,photo,loadPhoto,imageLoaded,timer,onTimer,counter,animate;
	//------------- 2. configuring ---------------------------------------
	//get the canvas and context
	canvas_1=$('#board_one').get(0);
	context_1=canvas_1.getContext('2d');
	counter=1;
	//---------------functions----------------------------------
	//resetting the width and height, it automatically resets the canvas
	//clear the board, quick and dirty, its a HACK!!
	resetCanvas = function (canvasRef){
		canvasRef.width=canvasRef.width;
		canvasRef.height=canvasRef.height;
	};
	//clear the board
	resetContext=function(canvasRef,contextRef){
		contextRef.clearRect(0,0,canvasRef.width,canvasRef.height);
	};
	
	imageLoaded=function(evt)
	{
		var originalPic=evt.target; 
		animate();
	};
	
	loadPhoto=function(path)
	{
		photo.src=path;
	};
	
	animate=function(){
		timer=setInterval(onTimer,150);
	};
	
	onTimer=function(){
		resetContext(canvas_1,context_1);
		
		//draw again
		if(counter>=12)
		{
			counter=0;
		}
		context_1.drawImage(photo, 97*counter, 0, 97, 95, 230, 110, 97, 95);
		counter++;
		//clearInterval(timer);//incase we need to stop the animation
	};
	
	//----------------3. using-----------------------------
	image_data=context_1.createImageData(canvas_1.width,canvas_1.height);
	photo=new Image();
	photo.onload=imageLoaded;
	loadPhoto('images/walkSheet.png');
};
</pre>
<p>In the beginning we have just defined the variables, then populating them with the required values and scripts. Lastly we are calling our methods and using these variables.<br />
In the beginning we get our canvas and its context. Intitialised the &#8220;counter&#8221; to 1 as we have 12 different positions of the image, we will be needing a counter to move to next position. So once these properties are populated, we have created some functions, which we use. Then moving on to the actions, firstly there is an &#8220;image_data&#8221; object, I have created, but not used. That is just to show we can create an image data object from the canvas, which is used to pixel manipulation. So the first thingon making our animation is making an Image object with </p>
<pre lang="javascript">
photo=new Image();
</pre>
<p>Then we have to provide an event handler for its image load event, that is done with the code below.</p>
<pre>
photo.onload=imageLoaded;
</pre>
<p>If you remember we have already created the &#8220;imageLoaded&#8221; function, which looks as below.</p>
<pre lang="javascript">
imageLoaded=function(evt)
	{
		var originalPic=evt.target; //just for the shake of understanding
		animate();
	};
</pre>
<p>Here the first the &#8220;originalPic&#8221; variable is defined just to know that we can get the image from the event object as &#8220;event.target&#8221; . So all in all this &#8220;imageLoaded&#8221; function actually initialises our animation by calling &#8220;animate()&#8221;.</p>
<pre lang="javascript">
animate=function(){
		timer=setInterval(onTimer,150);
	};
</pre>
<p>And &#8220;animate()&#8221; function actually intialises the timer for animation and calls &#8220;onTimer&#8221; function repeatedly at each 150 milliseconds.</p>
<pre lang="javascript">
onTimer=function(){
		resetContext(canvas_1,context_1);
		//draw again
		if(counter>=12)
		{
			counter=0;
		}
		context_1.drawImage(photo, 97*counter, 0, 97, 95, 230, 110, 97, 95);
		counter++;
		//clearInterval(timer);
	};
</pre>
<p>This is the place, where all the action is happening. First we have to clear our canvas, that is being done on the first line of this function. Next we check, whether the &#8220;counter&#8221; is more than 12, if it is then reset it to 0. Thats for we have just 12 different images. Now the line which actually draws our animation is </p>
<pre lang="javascript">
context_1.drawImage(photo, 97*counter, 0, 97, 95, 230, 110, 97, 95);
</pre>
<p>This is actually drawing part of the sprite sheet to a particular are in the canvas. Its like copying a portion from the sprite sheet and pasting it in the Canvas. On the next timer event (ie; after another 150 milliseconds, it will copy another portion and paste it in the same location.) we take another portion from the sprite sheet and paste it in the same area of canvas. Since we are clearing the canvas and re-drawing it over a period of time, it seems as if the character is animating! The time of 150 milliseconds is just a guess, we can lower it to see the jerky animation or higher it to see the character move faster. The other values as 97,95 are the width and height of each image in pixels, so that would be different for different sprite sheets.<br />
The last line increments the counter by one.<br />
Now we have a nice looking animation in our HTML Canvas.</p>
<blockquote><p>Things to not here is, I struggled for sometime to see this working, for I was providing wrong parameter values (97,95 seemed perfect). So if your animation is not visible, first see if the parameter values are correct. Even one pixel higher than the actual image height or width will make the whole thing invisible. Though lower values work fine.</p></blockquote>
<p>Happy coding.</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
												<span class="cat-links">
				<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="http://saumya.github.io/blogArchive/archives/category/css3" title="View all posts in css3" rel="category tag">css3</a>, <a href="http://saumya.github.io/blogArchive/archives/category/html5" title="View all posts in html5" rel="category tag">html5</a>, <a href="http://saumya.github.io/blogArchive/archives/category/javascript" title="View all posts in javascript" rel="category tag">javascript</a>, <a href="http://saumya.github.io/blogArchive/archives/category/tutorial" title="View all posts in tutorial" rel="category tag">tutorial</a>			</span>
															<span class="sep"> | </span>
							<span class="tag-links">
				<span class="entry-utility-prep entry-utility-prep-tag-links">Tagged</span> <a href="http://saumya.github.io/blogArchive/archives/tag/html5" rel="tag">html5</a>, <a href="http://saumya.github.io/blogArchive/archives/tag/javascript" rel="tag">javascript</a>, <a href="http://saumya.github.io/blogArchive/archives/tag/tutorial" rel="tag">tutorial</a>, <a href="http://saumya.github.io/blogArchive/archives/tag/tutorials" rel="tag">tutorials</a>			</span>
						
			
					</footer><!-- .entry-meta -->
	</article><!-- #post-821 -->

				
					
	<article id="post-814" class="post-814 post type-post status-publish format-standard hentry category-css3 category-html5 category-javascript tag-css3 tag-html5 tag-javascript">
		<header class="entry-header">
						<h1 class="entry-title"><a href="http://saumya.github.io/blogArchive/archives/814" title="Permalink to HTML5 : Canvas pixels, part II" rel="bookmark">HTML5 : Canvas pixels, part II</a></h1>
			
						<div class="entry-meta">
				<span class="sep">Posted on </span><a href="http://saumya.github.io/blogArchive/archives/814" title="1:00 am" rel="bookmark"><time class="entry-date" datetime="2011-09-28T01:00:08+00:00">September 28, 2011</time></a><span class="by-author"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://saumya.github.io/blogArchive/archives/author/saumya" title="View all posts by saumya" rel="author">saumya</a></span></span>			</div><!-- .entry-meta -->
			
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>Now we know we can create and manipulate pixels in the Html5 Canvas. That opens doors to some of cool effects we can make with this tool. Here we will make an image invert its color.<br />
The thing to remember here is, we have to get the image data from the context after our image is drawn. That means instead of </p>
<pre lang="javascript">
createImageData(width,height)
</pre>
<p>we have to use </p>
<pre lang="javascript">
getImageData(intialX,initialY,width,height)
</pre>
<p>The function for creating this look as below,</p>
<pre lang='javascript'>
filterImage=function()
	{
		// Get the CanvasPixelArray from the given coordinates and dimensions.
		var imgd = context_one.getImageData(0, 0, width, height);
		var pix = imgd.data;
		// Loop over each pixel and invert the color.
		for (var i = 0, n = pix.length; i < n; i += 4) {
		  pix[i  ] = 255 - pix[i  ]; // red
		  pix[i+1] = 255 - pix[i+1]; // green
		  pix[i+2] = 255 - pix[i+2]; // blue
		  // i+3 is alpha (the fourth element)
		}
		// Draw the ImageData at the given (x,y) coordinates.
		context_one.putImageData(imgd, 0, 0);
	}
</pre>
<p>first of all, we take the image data object from the context. Then like the previous example, we loop over each pixel and subtract the channel values from the maximum value so as to invert the color of each pixel. And finally we have to put them into context for rendering.<br />
I would suggest the same thing here as, please try this in every possible browser. While the same code does not work for me on Chrome, it did work in latest Opera.<br />
<a href="http://www.box.net/shared/j0cplngegz5ffoazk8rj" target="_blank">The source code is here for you to download and play.</a><br />
Hope that helps someone.</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
												<span class="cat-links">
				<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="http://saumya.github.io/blogArchive/archives/category/css3" title="View all posts in css3" rel="category tag">css3</a>, <a href="http://saumya.github.io/blogArchive/archives/category/html5" title="View all posts in html5" rel="category tag">html5</a>, <a href="http://saumya.github.io/blogArchive/archives/category/javascript" title="View all posts in javascript" rel="category tag">javascript</a>			</span>
															<span class="sep"> | </span>
							<span class="tag-links">
				<span class="entry-utility-prep entry-utility-prep-tag-links">Tagged</span> <a href="http://saumya.github.io/blogArchive/archives/tag/css3" rel="tag">css3</a>, <a href="http://saumya.github.io/blogArchive/archives/tag/html5" rel="tag">html5</a>, <a href="http://saumya.github.io/blogArchive/archives/tag/javascript" rel="tag">javascript</a>			</span>
						
			
					</footer><!-- .entry-meta -->
	</article><!-- #post-814 -->

				
					
	<article id="post-808" class="post-808 post type-post status-publish format-standard hentry category-css3 category-html5 category-javascript category-tutorial tag-css3 tag-html5 tag-javascript">
		<header class="entry-header">
						<h1 class="entry-title"><a href="http://saumya.github.io/blogArchive/archives/808" title="Permalink to HTML5 : Canvas pixels" rel="bookmark">HTML5 : Canvas pixels</a></h1>
			
						<div class="entry-meta">
				<span class="sep">Posted on </span><a href="http://saumya.github.io/blogArchive/archives/808" title="12:24 pm" rel="bookmark"><time class="entry-date" datetime="2011-09-27T12:24:30+00:00">September 27, 2011</time></a><span class="by-author"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://saumya.github.io/blogArchive/archives/author/saumya" title="View all posts by saumya" rel="author">saumya</a></span></span>			</div><!-- .entry-meta -->
			
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>Once we know we can do an image drawing in a canvas, lets see if we can at all make a new image from a blank canvas. The answer is yes. We have absolutely accessible to each pixel values of the context of the Canvas. </p>
<blockquote><p>Let me say you here, if you are not getting the result in one browser, try other browsers. I had tried a long time with the same code in Chrome without any result! But it worked out in latest version of Opera !! Not sure whats wrong but if you test it in other browsers it will save you a lot of time.</p></blockquote>
<p>The code for image creation is as below.</p>
<pre lang="javascript">
createImage=function()
	{
		// Create an ImageData object.
		var imgd = context_one.createImageData(width,height);
		var pix = imgd.data;
		// Loop over each pixel and set a transparent red.
		for (var i = 0; n = pix.length, i < n; i += 4) {
		  pix[i  ] = 255; // red channel
		  pix[i +1] = 0; // green channel
		  pix[i +2] = 0; // blue channel
		  pix[i+3] = 255; // alpha channel
		}
		// Draw the ImageData object at the given (x,y) coordinates.
		context_one.putImageData(imgd, 0,0);
	}
</pre>
<p>All we have to do is create an image data with a width and height, that is done as </p>
<pre lang="javascript">
var imgd = context_one.createImageData(width,height);
</pre>
<p>The above code, I have taken the width as canvas width and height as canvas height.<br />
Now we will access each element of that image data array. Since its just an array the pixel values of each pixel is stored linearly as  "red,green,blue,alpha" and so we have to loop over each 4th element and get the values of all the channels of each pixel. Thats exactly what our for loop is doing. Then we are only populating the red channel to its max, since we want a red fill canvas image <img src='http://saumya.github.io/blogArchive/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' />  !<br />
Lastly the image data must be put on the context so as to render the pixels. The following code does that.</p>
<pre lang="javascript">
context_one.putImageData(imgd, 0,0);
</pre>
<p>Thats a simple pixel manipulation we did now with our canvas element.<br />
<a href="http://www.box.net/shared/j0cplngegz5ffoazk8rj" target="_blank">The source code is available here for you to download and play.</a></p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
												<span class="cat-links">
				<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="http://saumya.github.io/blogArchive/archives/category/css3" title="View all posts in css3" rel="category tag">css3</a>, <a href="http://saumya.github.io/blogArchive/archives/category/html5" title="View all posts in html5" rel="category tag">html5</a>, <a href="http://saumya.github.io/blogArchive/archives/category/javascript" title="View all posts in javascript" rel="category tag">javascript</a>, <a href="http://saumya.github.io/blogArchive/archives/category/tutorial" title="View all posts in tutorial" rel="category tag">tutorial</a>			</span>
															<span class="sep"> | </span>
							<span class="tag-links">
				<span class="entry-utility-prep entry-utility-prep-tag-links">Tagged</span> <a href="http://saumya.github.io/blogArchive/archives/tag/css3" rel="tag">css3</a>, <a href="http://saumya.github.io/blogArchive/archives/tag/html5" rel="tag">html5</a>, <a href="http://saumya.github.io/blogArchive/archives/tag/javascript" rel="tag">javascript</a>			</span>
						
			
					</footer><!-- .entry-meta -->
	</article><!-- #post-808 -->

				
					
	<article id="post-806" class="post-806 post type-post status-publish format-standard hentry category-css3 category-html5 category-tutorial">
		<header class="entry-header">
						<h1 class="entry-title"><a href="http://saumya.github.io/blogArchive/archives/806" title="Permalink to HTML5 : Image on Canvas" rel="bookmark">HTML5 : Image on Canvas</a></h1>
			
						<div class="entry-meta">
				<span class="sep">Posted on </span><a href="http://saumya.github.io/blogArchive/archives/806" title="1:00 am" rel="bookmark"><time class="entry-date" datetime="2011-09-26T01:00:20+00:00">September 26, 2011</time></a><span class="by-author"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://saumya.github.io/blogArchive/archives/author/saumya" title="View all posts by saumya" rel="author">saumya</a></span></span>			</div><!-- .entry-meta -->
			
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>Here we will learn about adding image in a canvas.<br />
The concept is to create an Image object, add listener for load event, load the image, on the load complete handler get the image data and draw it on the context of the canvas.</p>
<pre lang="javascript">
p=new Image();
p.onload=imageLoaded;
imageLoaded=function(evt)
{
var image=evt.target;
context.drawImage(image,100,100);
}
p.src="img/myImage.jpg";
</pre>
<p>That&#8217;s all for an image to be drawn on the Canvas.</p>
<p><span class="post_sig">Posted from WordPress for Android through my &#8220;HTC Wildfire&#8221;.</span></p>
<blockquote><p>The publish date is taken a day back as to make a post each day.</p></blockquote>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
												<span class="cat-links">
				<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="http://saumya.github.io/blogArchive/archives/category/css3" title="View all posts in css3" rel="category tag">css3</a>, <a href="http://saumya.github.io/blogArchive/archives/category/html5" title="View all posts in html5" rel="category tag">html5</a>, <a href="http://saumya.github.io/blogArchive/archives/category/tutorial" title="View all posts in tutorial" rel="category tag">tutorial</a>			</span>
															
			
					</footer><!-- .entry-meta -->
	</article><!-- #post-806 -->

				
					
	<article id="post-1225" class="post-1225 post type-post status-publish format-standard hentry category-inspiration category-saumya tag-inspiration">
		<header class="entry-header">
						<h1 class="entry-title"><a href="http://saumya.github.io/blogArchive/archives/1225" title="Permalink to When you don&#039;t give up, you cannot fail." rel="bookmark">When you don&#039;t give up, you cannot fail.</a></h1>
			
						<div class="entry-meta">
				<span class="sep">Posted on </span><a href="http://saumya.github.io/blogArchive/archives/1225" title="1:56 pm" rel="bookmark"><time class="entry-date" datetime="2011-09-25T13:56:00+00:00">September 25, 2011</time></a><span class="by-author"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://saumya.github.io/blogArchive/archives/author/saumya" title="View all posts by saumya" rel="author">saumya</a></span></span>			</div><!-- .entry-meta -->
			
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p><iframe width="560" height="315" src="http://www.youtube-nocookie.com/embed/kZlXWp6vFdE" frameborder="0" allowfullscreen></iframe></p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
												<span class="cat-links">
				<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="http://saumya.github.io/blogArchive/archives/category/inspiration" title="View all posts in inspiration" rel="category tag">inspiration</a>, <a href="http://saumya.github.io/blogArchive/archives/category/saumya" title="View all posts in saumya" rel="category tag">saumya</a>			</span>
															<span class="sep"> | </span>
							<span class="tag-links">
				<span class="entry-utility-prep entry-utility-prep-tag-links">Tagged</span> <a href="http://saumya.github.io/blogArchive/archives/tag/inspiration" rel="tag">inspiration</a>			</span>
						
			
					</footer><!-- .entry-meta -->
	</article><!-- #post-1225 -->

				
					
	<article id="post-797" class="post-797 post type-post status-publish format-standard hentry category-inspiration category-saumya tag-inspiration">
		<header class="entry-header">
						<h1 class="entry-title"><a href="http://saumya.github.io/blogArchive/archives/797" title="Permalink to When you don&#8217;t give up, you cannot fail." rel="bookmark">When you don&#8217;t give up, you cannot fail.</a></h1>
			
						<div class="entry-meta">
				<span class="sep">Posted on </span><a href="http://saumya.github.io/blogArchive/archives/797" title="1:56 pm" rel="bookmark"><time class="entry-date" datetime="2011-09-25T13:56:00+00:00">September 25, 2011</time></a><span class="by-author"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://saumya.github.io/blogArchive/archives/author/saumya" title="View all posts by saumya" rel="author">saumya</a></span></span>			</div><!-- .entry-meta -->
			
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p><iframe width="560" height="315" src="http://www.youtube-nocookie.com/embed/kZlXWp6vFdE" frameborder="0" allowfullscreen></iframe></p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
												<span class="cat-links">
				<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="http://saumya.github.io/blogArchive/archives/category/inspiration" title="View all posts in inspiration" rel="category tag">inspiration</a>, <a href="http://saumya.github.io/blogArchive/archives/category/saumya" title="View all posts in saumya" rel="category tag">saumya</a>			</span>
															<span class="sep"> | </span>
							<span class="tag-links">
				<span class="entry-utility-prep entry-utility-prep-tag-links">Tagged</span> <a href="http://saumya.github.io/blogArchive/archives/tag/inspiration" rel="tag">inspiration</a>			</span>
						
			
					</footer><!-- .entry-meta -->
	</article><!-- #post-797 -->

				
					
	<article id="post-792" class="post-792 post type-post status-publish format-standard hentry category-html5 category-javascript tag-html5 tag-javascript">
		<header class="entry-header">
						<h1 class="entry-title"><a href="http://saumya.github.io/blogArchive/archives/792" title="Permalink to HTML5 : Some more libraries" rel="bookmark">HTML5 : Some more libraries</a></h1>
			
						<div class="entry-meta">
				<span class="sep">Posted on </span><a href="http://saumya.github.io/blogArchive/archives/792" title="9:17 am" rel="bookmark"><time class="entry-date" datetime="2011-09-25T09:17:11+00:00">September 25, 2011</time></a><span class="by-author"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://saumya.github.io/blogArchive/archives/author/saumya" title="View all posts by saumya" rel="author">saumya</a></span></span>			</div><!-- .entry-meta -->
			
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>While going good with at least one post each day, I am not sure what to put next for HTML5 Canvas.<br />
I came across some more libraries for HTML5 Canvas.</p>
<p><a href="http://www.kineticjs.com/" target="_blank">KineticJS</a><br />
<a href="http://lamberta.org/doodle-js/" target="_blank">Doodle.js</a><br />
Image Manipulation on Canvas<br />
<a href="http://www.pixastic.com/" target="_blank">pixastic</a><br />
<a href="http://camanjs.com/" target="_blank">CamanJS</a><br />
<a href="http://code.google.com/p/tiffus/" target="_blank">tiffus</a><br />
<a href="http://www.kevlindev.com/projects/jsdrawing/index.htm" target="_blank">JSDrawing</a><br />
<a href="https://github.com/mezzoblue/PaintbrushJS" target="_blank">PaintbrushJS</a><br />
Javascript Code Quality tool<br />
<a href="http://www.jslint.com/" target="_blank">JSLint</a><br />
Javascript programming<br />
<a href="http://documentcloud.github.com/backbone/" target="_blank">Backbone</a><br />
<a href="http://documentcloud.github.com/underscore/" target="_blank">Underscore</a><br />
<a href="http://knockoutjs.com/" target="_blank">Knockout</a><br />
<a href="http://sugarjs.com/" target="_blank">Sugar</a></p>
<p><a href="http://phpjs.org/">phpjs</a><br />
<a href="https://github.com/andreasgal/pdf.js" target="_blank">pdf.js</a><br />
<a href="http://cubiq.org/iscroll-4" target="_blank">iScroll</a><br />
<a href="http://zeptojs.com/" target="_blank">zepto.js</a></p>
<p><a href="http://nodejs.org/" target="_blank">node.js</a><br />
<a href="http://jashkenas.github.com/coffee-script/" target="_blank">CoffeeScript</a></p>
<p>We are going good with HTML5 Canvas, I hope there is nothing much left for the basic concepts except one or two, which we will be covering soon. Leave a comment if you feel any tutorial in particular to be included.<br />
Stay tuned and thanks for being here.</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
												<span class="cat-links">
				<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="http://saumya.github.io/blogArchive/archives/category/html5" title="View all posts in html5" rel="category tag">html5</a>, <a href="http://saumya.github.io/blogArchive/archives/category/javascript" title="View all posts in javascript" rel="category tag">javascript</a>			</span>
															<span class="sep"> | </span>
							<span class="tag-links">
				<span class="entry-utility-prep entry-utility-prep-tag-links">Tagged</span> <a href="http://saumya.github.io/blogArchive/archives/tag/html5" rel="tag">html5</a>, <a href="http://saumya.github.io/blogArchive/archives/tag/javascript" rel="tag">javascript</a>			</span>
						
			
					</footer><!-- .entry-meta -->
	</article><!-- #post-792 -->

				
					
	<article id="post-787" class="post-787 post type-post status-publish format-standard hentry category-css3 category-html5 category-javascript category-tutorial tag-html5 tag-javascript">
		<header class="entry-header">
						<h1 class="entry-title"><a href="http://saumya.github.io/blogArchive/archives/787" title="Permalink to HTML5 : multiple Canvas" rel="bookmark">HTML5 : multiple Canvas</a></h1>
			
						<div class="entry-meta">
				<span class="sep">Posted on </span><a href="http://saumya.github.io/blogArchive/archives/787" title="1:00 am" rel="bookmark"><time class="entry-date" datetime="2011-09-24T01:00:37+00:00">September 24, 2011</time></a><span class="by-author"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://saumya.github.io/blogArchive/archives/author/saumya" title="View all posts by saumya" rel="author">saumya</a></span></span>			</div><!-- .entry-meta -->
			
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>The interesting thing about Canvas is we can have more than one Canvas and even we can create Canvas dynamically through javascript. Why would we need more than one Canvas !?! There may be many answers to this, but the most important of all is, I think, when we need to update the Canvas. If you remember we have made an animation in our previous tutorial. And diving a little inside of that code will show you that we are redrawing it on each timer event.<br />
The whole idea of animating in Canvas revolves around updating the Canvas on each timer event. But we also know that once something is written/drawn in Canvas<br />
we can not have a reference to it. So in the other hand we have to re-write or re-draw everything again. And this redrawing over and again will take us to a performance problem. Re-drawing the whole canvas with all the elements, again and again is not a good idea and we must avoid it if we can. The best thing to do is to separate elements to different Canvases. And we will never update the Canvas which contains the elements we do not need to be changed. Then only refresh the Canvases whose content needs updating upon timer event. Seems like a plan ? <a href="http://www.box.net/shared/hbk3b97qvcip9nms6qd5" target="_blank">I have done this with the example source code, for your reference</a>.<br />
The source code of the example, contains two canvases and I am updating only the second Canvas as it needs updating. </p>
<blockquote><p>Point to note here is Canvas refresh does not mean only updating the values, but actually it means erase everything from the Canvas and re-draw everything with the updated value.</p></blockquote>
<p>Hope that helps to understand the power of Canvas a little better.</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
												<span class="cat-links">
				<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="http://saumya.github.io/blogArchive/archives/category/css3" title="View all posts in css3" rel="category tag">css3</a>, <a href="http://saumya.github.io/blogArchive/archives/category/html5" title="View all posts in html5" rel="category tag">html5</a>, <a href="http://saumya.github.io/blogArchive/archives/category/javascript" title="View all posts in javascript" rel="category tag">javascript</a>, <a href="http://saumya.github.io/blogArchive/archives/category/tutorial" title="View all posts in tutorial" rel="category tag">tutorial</a>			</span>
															<span class="sep"> | </span>
							<span class="tag-links">
				<span class="entry-utility-prep entry-utility-prep-tag-links">Tagged</span> <a href="http://saumya.github.io/blogArchive/archives/tag/html5" rel="tag">html5</a>, <a href="http://saumya.github.io/blogArchive/archives/tag/javascript" rel="tag">javascript</a>			</span>
						
			
					</footer><!-- .entry-meta -->
	</article><!-- #post-787 -->

				
						<nav id="nav-below">
			<h3 class="assistive-text">Post navigation</h3>
			<div class="nav-previous"><a href="http://saumya.github.io/blogArchive/archives/date/2011/09/page/2" ><span class="meta-nav">&larr;</span> Older posts</a></div>
			<div class="nav-next"></div>
		</nav><!-- #nav-above -->
	
			
			</div><!-- #content -->
		</section><!-- #primary -->

		<div id="secondary" class="widget-area" role="complementary">
			<aside id="archives-2" class="widget widget_archive"><h3 class="widget-title">Archives</h3>		<ul>
			<li><a href='http://saumya.github.io/blogArchive/archives/date/2014/01' title='January 2014'>January 2014</a>&nbsp;(4)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2013/12' title='December 2013'>December 2013</a>&nbsp;(1)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2013/11' title='November 2013'>November 2013</a>&nbsp;(2)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2013/10' title='October 2013'>October 2013</a>&nbsp;(1)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2013/08' title='August 2013'>August 2013</a>&nbsp;(3)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2013/07' title='July 2013'>July 2013</a>&nbsp;(2)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2013/06' title='June 2013'>June 2013</a>&nbsp;(2)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2013/05' title='May 2013'>May 2013</a>&nbsp;(3)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2013/04' title='April 2013'>April 2013</a>&nbsp;(4)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2013/03' title='March 2013'>March 2013</a>&nbsp;(1)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2013/02' title='February 2013'>February 2013</a>&nbsp;(3)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2013/01' title='January 2013'>January 2013</a>&nbsp;(9)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2012/11' title='November 2012'>November 2012</a>&nbsp;(1)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2012/09' title='September 2012'>September 2012</a>&nbsp;(1)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2012/04' title='April 2012'>April 2012</a>&nbsp;(2)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2012/03' title='March 2012'>March 2012</a>&nbsp;(1)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2012/02' title='February 2012'>February 2012</a>&nbsp;(5)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2012/01' title='January 2012'>January 2012</a>&nbsp;(2)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2011/12' title='December 2011'>December 2011</a>&nbsp;(19)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2011/11' title='November 2011'>November 2011</a>&nbsp;(2)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2011/10' title='October 2011'>October 2011</a>&nbsp;(5)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2011/09' title='September 2011'>September 2011</a>&nbsp;(31)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2011/08' title='August 2011'>August 2011</a>&nbsp;(11)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2011/07' title='July 2011'>July 2011</a>&nbsp;(6)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2011/06' title='June 2011'>June 2011</a>&nbsp;(6)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2011/05' title='May 2011'>May 2011</a>&nbsp;(13)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2011/04' title='April 2011'>April 2011</a>&nbsp;(2)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2011/02' title='February 2011'>February 2011</a>&nbsp;(1)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2011/01' title='January 2011'>January 2011</a>&nbsp;(1)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2010/12' title='December 2010'>December 2010</a>&nbsp;(4)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2010/11' title='November 2010'>November 2010</a>&nbsp;(10)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2010/10' title='October 2010'>October 2010</a>&nbsp;(10)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2010/09' title='September 2010'>September 2010</a>&nbsp;(3)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2010/08' title='August 2010'>August 2010</a>&nbsp;(4)</li>
	<li><a href='http://saumya.github.io/blogArchive/archives/date/2010/07' title='July 2010'>July 2010</a>&nbsp;(9)</li>
		</ul>
</aside>		</div><!-- #secondary .widget-area -->

	</div><!-- #main -->

	<footer id="colophon" role="contentinfo">

			

			<div id="site-generator">

								
				<!--
				<a href="http://wordpress.org/" title="Semantic Personal Publishing Platform">Proudly powered by WordPress</a>
				-->

				<a href="http://wordpress.org/">It was Proudly powered by WordPress. ( 2010 - 2014 ) </a>
				
			</div>
	</footer><!-- #colophon -->
</div><!-- #page -->


</body>
</html>